{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){let{setUserId}=_ref;const[formData,setFormData]=useState({email:'',password:''});const[message,setMessage]=useState('');const navigate=useNavigate();const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();axios.post('/api/auth/login',formData).then(response=>{if(response.data&&response.data.userId){setUserId(response.data.userId);navigate('/dashboard');}else{setMessage(\"Login failed: userId not returned.\");}}).catch(error=>{var _error$response;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||'Login failed');});};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Log In\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email (@cooper.edu)\",onChange:handleChange,value:formData.email,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",onChange:handleChange,value:formData.password,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log In\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:message})]});}export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","setUserId","formData","setFormData","email","password","message","setMessage","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","post","then","response","data","userId","catch","error","_error$response","style","textAlign","marginTop","children","onSubmit","type","placeholder","onChange","required","color"],"sources":["/workspaces/StudBuds/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Login({ setUserId }) {\n  const [formData, setFormData] = useState({ email: '', password: '' });\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    axios.post('/api/auth/login', formData)\n      .then(response => {\n        if (response.data && response.data.userId) {\n          setUserId(response.data.userId);\n          navigate('/dashboard');\n        } else {\n          setMessage(\"Login failed: userId not returned.\");\n        }\n      })\n      .catch(error => {\n        setMessage(error.response?.data || 'Login failed');\n      });\n  };\n\n  return (\n    <div style={{ textAlign: 'center', marginTop: '2rem' }}>\n      <h2>Log In</h2>\n      <form onSubmit={handleSubmit}>\n        <input \n          type=\"email\" \n          name=\"email\" \n          placeholder=\"Email (@cooper.edu)\" \n          onChange={handleChange} \n          value={formData.email} \n          required \n        /><br/><br/>\n        <input \n          type=\"password\" \n          name=\"password\" \n          placeholder=\"Password\" \n          onChange={handleChange} \n          value={formData.password} \n          required \n        /><br/><br/>\n        <button type=\"submit\">Log In</button>\n      </form>\n      {message && <p style={{ color: 'red' }}>{message}</p>}\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAgB,IAAf,CAAEC,SAAU,CAAC,CAAAD,IAAA,CAC1B,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,CAAEY,KAAK,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CACrE,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAAgB,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAe,YAAY,CAAIC,CAAC,EAAK,CAC1BP,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAE,CAACQ,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAAM,CAAC,CAAC,CAC/D,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIJ,CAAC,EAAK,CAC1BA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBtB,KAAK,CAACuB,IAAI,CAAC,iBAAiB,CAAEd,QAAQ,CAAC,CACpCe,IAAI,CAACC,QAAQ,EAAI,CAChB,GAAIA,QAAQ,CAACC,IAAI,EAAID,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAE,CACzCnB,SAAS,CAACiB,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAC,CAC/BZ,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAC,IAAM,CACLD,UAAU,CAAC,oCAAoC,CAAC,CAClD,CACF,CAAC,CAAC,CACDc,KAAK,CAACC,KAAK,EAAI,KAAAC,eAAA,CACdhB,UAAU,CAAC,EAAAgB,eAAA,CAAAD,KAAK,CAACJ,QAAQ,UAAAK,eAAA,iBAAdA,eAAA,CAAgBJ,IAAI,GAAI,cAAc,CAAC,CACpD,CAAC,CAAC,CACN,CAAC,CAED,mBACErB,KAAA,QAAK0B,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,SAAS,CAAE,MAAO,CAAE,CAAAC,QAAA,eACrD/B,IAAA,OAAA+B,QAAA,CAAI,QAAM,CAAI,CAAC,cACf7B,KAAA,SAAM8B,QAAQ,CAAEd,YAAa,CAAAa,QAAA,eAC3B/B,IAAA,UACEiC,IAAI,CAAC,OAAO,CACZjB,IAAI,CAAC,OAAO,CACZkB,WAAW,CAAC,qBAAqB,CACjCC,QAAQ,CAAEtB,YAAa,CACvBI,KAAK,CAAEX,QAAQ,CAACE,KAAM,CACtB4B,QAAQ,MACT,CAAC,cAAApC,IAAA,QAAI,CAAC,cAAAA,IAAA,QAAI,CAAC,cACZA,IAAA,UACEiC,IAAI,CAAC,UAAU,CACfjB,IAAI,CAAC,UAAU,CACfkB,WAAW,CAAC,UAAU,CACtBC,QAAQ,CAAEtB,YAAa,CACvBI,KAAK,CAAEX,QAAQ,CAACG,QAAS,CACzB2B,QAAQ,MACT,CAAC,cAAApC,IAAA,QAAI,CAAC,cAAAA,IAAA,QAAI,CAAC,cACZA,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,QAAM,CAAQ,CAAC,EACjC,CAAC,CACNrB,OAAO,eAAIV,IAAA,MAAG4B,KAAK,CAAE,CAAES,KAAK,CAAE,KAAM,CAAE,CAAAN,QAAA,CAAErB,OAAO,CAAI,CAAC,EAClD,CAAC,CAEV,CAEA,cAAe,CAAAP,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}