{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(_ref){let{userId}=_ref;const[confirmedMatches,setConfirmedMatches]=useState([]);const[pendingMatches,setPendingMatches]=useState([]);const[error,setError]=useState('');useEffect(()=>{if(userId){axios.get(`/api/matches/profile/${userId}`).then(response=>{setConfirmedMatches(response.data.confirmedMatches);setPendingMatches(response.data.pendingMatches);setError('');}).catch(err=>{var _err$response;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||'Error fetching profile matches.');});}},[userId]);// Return user's name; if missing, derive from email.\nconst getUsername=user=>{return user.name&&user.name.trim()!==\"\"?user.name:user.email.split('@')[0];};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Profile\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"h3\",{children:\"People Matched With\"}),confirmedMatches.length>0?confirmedMatches.map(user=>/*#__PURE__*/_jsxs(\"div\",{style:{border:'1px solid #ccc',padding:'0.5rem',margin:'0.5rem 0'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontWeight:'bold'},children:getUsername(user)}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'0'},children:user.email})]},user.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No confirmed matches yet.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Matches in Progress\"}),pendingMatches.length>0?pendingMatches.map(user=>/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #ccc',padding:'0.5rem',margin:'0.5rem 0'},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:'0',fontWeight:'bold'},children:getUsername(user)})},user.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No pending matches.\"})]});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Profile","_ref","userId","confirmedMatches","setConfirmedMatches","pendingMatches","setPendingMatches","error","setError","get","then","response","data","catch","err","_err$response","getUsername","user","name","trim","email","split","style","padding","children","color","length","map","border","margin","fontWeight","id"],"sources":["/workspaces/StudBuds/frontend/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction Profile({ userId }) {\n  const [confirmedMatches, setConfirmedMatches] = useState([]);\n  const [pendingMatches, setPendingMatches] = useState([]);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (userId) {\n      axios.get(`/api/matches/profile/${userId}`)\n        .then(response => {\n          setConfirmedMatches(response.data.confirmedMatches);\n          setPendingMatches(response.data.pendingMatches);\n          setError('');\n        })\n        .catch(err => {\n          setError(err.response?.data || 'Error fetching profile matches.');\n        });\n    }\n  }, [userId]);\n\n  // Return user's name; if missing, derive from email.\n  const getUsername = (user) => {\n    return user.name && user.name.trim() !== \"\" ? user.name : user.email.split('@')[0];\n  };\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <h2>Your Profile</h2>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      \n      <h3>People Matched With</h3>\n      {confirmedMatches.length > 0 ? (\n        confirmedMatches.map(user => (\n          <div key={user.id} style={{ border: '1px solid #ccc', padding: '0.5rem', margin: '0.5rem 0' }}>\n            <p style={{ margin: '0', fontWeight: 'bold' }}>{getUsername(user)}</p>\n            <p style={{ margin: '0' }}>{user.email}</p>\n          </div>\n        ))\n      ) : (\n        <p>No confirmed matches yet.</p>\n      )}\n      \n      <h3>Matches in Progress</h3>\n      {pendingMatches.length > 0 ? (\n        pendingMatches.map(user => (\n          <div key={user.id} style={{ border: '1px solid #ccc', padding: '0.5rem', margin: '0.5rem 0' }}>\n            <p style={{ margin: '0', fontWeight: 'bold' }}>{getUsername(user)}</p>\n          </div>\n        ))\n      ) : (\n        <p>No pending matches.</p>\n      )}\n    </div>\n  );\n}\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}