{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DAYS=[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"];const SUBJECTS=[\"Calculus 1\",\"Calculus 2\",\"Vector Calculus\",\"Differential Equations\",\"Linear Algebra\",\"Probability\",\"Physics 1\",\"Physics 2\",\"Physics 3\",\"General Chemistry\",\"Organic Chemistry\",\"Biochemistry\",\"Electronics I\",\"Electronics II\",\"Digital Logic\",\"Computer Architecture\",\"Data Structures and Algorithms\",\"Operating Systems\",\"Computer Networks\",\"Software Engineering\",\"Concrete Structures\",\"Steel Structures\",\"Transportation Engineering\",\"Environmental Engineering\",\"Thermodynamics\",\"Fluid Mechanics\",\"Heat Transfer\",\"Mechanical Design\",\"Manufacturing Processes\"];function UpdatePreference(_ref){let{userId}=_ref;const[selectedDays,setSelectedDays]=useState([]);const[selectedLearnSubjects,setSelectedLearnSubjects]=useState([]);const[selectedTeachSubjects,setSelectedTeachSubjects]=useState([]);const[message,setMessage]=useState('');const containerStyle={maxWidth:'600px',margin:'2rem auto',padding:'2rem'};const fieldsetStyle={marginBottom:'1.5rem',padding:'1rem',border:'1px solid #ddd',borderRadius:'6px'};const legendStyle={marginBottom:'0.5rem',fontWeight:'bold'};const listStyle={listStyle:'none',paddingLeft:0,margin:0};const labelStyle={display:'inline-flex',alignItems:'center',gap:'0.1rem',marginBottom:'0.5rem',fontSize:'0.9rem',color:'#555'};const handleCheckboxChange=(option,stateArray,setter)=>{if(stateArray.includes(option)){setter(stateArray.filter(item=>item!==option));}else{setter([...stateArray,option]);}};const handleSubmit=e=>{e.preventDefault();const preferenceData={availableDays:selectedDays.join(', '),subjectsToLearn:selectedLearnSubjects.join(', '),subjectsToTeach:selectedTeachSubjects.join(', ')};axios.post(`/api/user/${userId}/preference`,preferenceData).then(()=>setMessage('Preference updated successfully.')).catch(error=>{// If error.response.data is an object, assume it's due to too many preferences picked.\nif(error.response&&typeof error.response.data==='object'){setMessage(\"Too many preferences picked. Please select fewer subjects.\");}else{var _error$response;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||'Update failed.');}});};return/*#__PURE__*/_jsxs(\"div\",{style:containerStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:'center',marginBottom:'1.5rem'},children:\"Update Your Preferences\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"fieldset\",{style:fieldsetStyle,children:[/*#__PURE__*/_jsx(\"legend\",{style:legendStyle,children:\"Available Days\"}),/*#__PURE__*/_jsx(\"ul\",{style:listStyle,children:DAYS.map(day=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{style:labelStyle,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:day,checked:selectedDays.includes(day),onChange:()=>handleCheckboxChange(day,selectedDays,setSelectedDays)}),day]})},day))})]}),/*#__PURE__*/_jsxs(\"fieldset\",{style:fieldsetStyle,children:[/*#__PURE__*/_jsx(\"legend\",{style:legendStyle,children:\"Subjects to Learn\"}),/*#__PURE__*/_jsx(\"ul\",{style:listStyle,children:SUBJECTS.map(subject=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{style:labelStyle,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:subject,checked:selectedLearnSubjects.includes(subject),onChange:()=>handleCheckboxChange(subject,selectedLearnSubjects,setSelectedLearnSubjects)}),subject]})},subject))})]}),/*#__PURE__*/_jsxs(\"fieldset\",{style:fieldsetStyle,children:[/*#__PURE__*/_jsx(\"legend\",{style:legendStyle,children:\"Subjects to Teach\"}),/*#__PURE__*/_jsx(\"ul\",{style:listStyle,children:SUBJECTS.map(subject=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"label\",{style:labelStyle,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:subject,checked:selectedTeachSubjects.includes(subject),onChange:()=>handleCheckboxChange(subject,selectedTeachSubjects,setSelectedTeachSubjects)}),subject]})},subject))})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Preference\"})})]}),message&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',marginTop:'1rem',textAlign:'center'},children:message})]});}export default UpdatePreference;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","DAYS","SUBJECTS","UpdatePreference","_ref","userId","selectedDays","setSelectedDays","selectedLearnSubjects","setSelectedLearnSubjects","selectedTeachSubjects","setSelectedTeachSubjects","message","setMessage","containerStyle","maxWidth","margin","padding","fieldsetStyle","marginBottom","border","borderRadius","legendStyle","fontWeight","listStyle","paddingLeft","labelStyle","display","alignItems","gap","fontSize","color","handleCheckboxChange","option","stateArray","setter","includes","filter","item","handleSubmit","e","preventDefault","preferenceData","availableDays","join","subjectsToLearn","subjectsToTeach","post","then","catch","error","response","data","_error$response","style","children","textAlign","onSubmit","map","day","type","value","checked","onChange","subject","marginTop"],"sources":["/workspaces/StudBuds/frontend/src/components/UpdatePreference.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst DAYS = [\"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"];\n\nconst SUBJECTS = [\n  \"Calculus 1\", \"Calculus 2\", \"Vector Calculus\", \"Differential Equations\", \"Linear Algebra\", \"Probability\", \n  \"Physics 1\", \"Physics 2\", \"Physics 3\", \"General Chemistry\", \"Organic Chemistry\", \"Biochemistry\", \n  \"Electronics I\", \"Electronics II\", \"Digital Logic\", \"Computer Architecture\", \"Data Structures and Algorithms\",\n  \"Operating Systems\", \"Computer Networks\", \"Software Engineering\", \n  \"Concrete Structures\", \"Steel Structures\", \"Transportation Engineering\", \"Environmental Engineering\",\n  \"Thermodynamics\", \"Fluid Mechanics\", \"Heat Transfer\", \"Mechanical Design\", \"Manufacturing Processes\"\n];\n\nfunction UpdatePreference({ userId }) {\n  const [selectedDays, setSelectedDays] = useState([]);\n  const [selectedLearnSubjects, setSelectedLearnSubjects] = useState([]);\n  const [selectedTeachSubjects, setSelectedTeachSubjects] = useState([]);\n  const [message, setMessage] = useState('');\n\n  const containerStyle = {\n    maxWidth: '600px',\n    margin: '2rem auto',\n    padding: '2rem'\n  };\n\n  const fieldsetStyle = {\n    marginBottom: '1.5rem',\n    padding: '1rem',\n    border: '1px solid #ddd',\n    borderRadius: '6px'\n  };\n\n  const legendStyle = {\n    marginBottom: '0.5rem',\n    fontWeight: 'bold'\n  };\n\n  const listStyle = {\n    listStyle: 'none',\n    paddingLeft: 0,\n    margin: 0\n  };\n\n  const labelStyle = {\n    display: 'inline-flex',\n    alignItems: 'center',\n    gap: '0.1rem',\n    marginBottom: '0.5rem',\n    fontSize: '0.9rem',\n    color: '#555'\n  };\n\n  const handleCheckboxChange = (option, stateArray, setter) => {\n    if (stateArray.includes(option)) {\n      setter(stateArray.filter(item => item !== option));\n    } else {\n      setter([...stateArray, option]);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const preferenceData = {\n      availableDays: selectedDays.join(', '),\n      subjectsToLearn: selectedLearnSubjects.join(', '),\n      subjectsToTeach: selectedTeachSubjects.join(', ')\n    };\n    axios.post(`/api/user/${userId}/preference`, preferenceData)\n      .then(() => setMessage('Preference updated successfully.'))\n      .catch(error => {\n        // If error.response.data is an object, assume it's due to too many preferences picked.\n        if (error.response && typeof error.response.data === 'object') {\n          setMessage(\"Too many preferences picked. Please select fewer subjects.\");\n        } else {\n          setMessage(error.response?.data || 'Update failed.');\n        }\n      });\n  };\n\n  return (\n    <div style={containerStyle}>\n      <h2 style={{ textAlign: 'center', marginBottom: '1.5rem' }}>Update Your Preferences</h2>\n      <form onSubmit={handleSubmit}>\n        <fieldset style={fieldsetStyle}>\n          <legend style={legendStyle}>Available Days</legend>\n          <ul style={listStyle}>\n            {DAYS.map(day => (\n              <li key={day}>\n                <label style={labelStyle}>\n                  <input\n                    type=\"checkbox\"\n                    value={day}\n                    checked={selectedDays.includes(day)}\n                    onChange={() => handleCheckboxChange(day, selectedDays, setSelectedDays)}\n                  />\n                  {day}\n                </label>\n              </li>\n            ))}\n          </ul>\n        </fieldset>\n\n        <fieldset style={fieldsetStyle}>\n          <legend style={legendStyle}>Subjects to Learn</legend>\n          <ul style={listStyle}>\n            {SUBJECTS.map(subject => (\n              <li key={subject}>\n                <label style={labelStyle}>\n                  <input\n                    type=\"checkbox\"\n                    value={subject}\n                    checked={selectedLearnSubjects.includes(subject)}\n                    onChange={() => handleCheckboxChange(subject, selectedLearnSubjects, setSelectedLearnSubjects)}\n                  />\n                  {subject}\n                </label>\n              </li>\n            ))}\n          </ul>\n        </fieldset>\n\n        <fieldset style={fieldsetStyle}>\n          <legend style={legendStyle}>Subjects to Teach</legend>\n          <ul style={listStyle}>\n            {SUBJECTS.map(subject => (\n              <li key={subject}>\n                <label style={labelStyle}>\n                  <input\n                    type=\"checkbox\"\n                    value={subject}\n                    checked={selectedTeachSubjects.includes(subject)}\n                    onChange={() => handleCheckboxChange(subject, selectedTeachSubjects, setSelectedTeachSubjects)}\n                  />\n                  {subject}\n                </label>\n              </li>\n            ))}\n          </ul>\n        </fieldset>\n\n        <div style={{ textAlign: 'center' }}>\n          <button type=\"submit\">Update Preference</button>\n        </div>\n      </form>\n      {message && <p style={{ color: 'red', marginTop: '1rem', textAlign: 'center' }}>{message}</p>}\n    </div>\n  );\n}\n\nexport default UpdatePreference;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}